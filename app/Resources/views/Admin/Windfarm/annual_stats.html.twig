{% extends 'SonataAdminBundle:CRUD:base_show.html.twig' %}

{% block navbar_title %}
    {{ 'admin.audit.generate' | trans }} {{ object.name }}
{% endblock %}

{% block sonata_admin_content %}
<div class="sonata-ba-show">
    <div class="sonata-ba-view row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div class="box-body table-responsive no-padding">
                        {% if form.year.vars.label is defined %}
                            {{ form_start(form) }}
                                <div class="col-xs-1">
                                    {{ form_row(form.audit_status) }}
                                </div>
                                <div class="col-xs-1">
                                    {{ form_row(form.year) }}
                                </div>
                                <div class="col-xs-2">
                                    {{ form_row(form.generate, {attr: {style: 'margin-top:24px;'}}) }}
                                    {{ form_row(form.download_xls) }}
                                    {{ form_rest(form) }}
                                </div>
                            {{ form_end(form) }}
                        {% else %}
                            <div class="alert alert-warning" role="alert">
                                <i class="fa fa-exclamation-triangle"></i> {{ 'admin.windfarm.no_audits' | trans }}.
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% if audits is defined and audits | length > 0 %}
    <div class="sonata-ba-show">
        <div class="sonata-ba-view row">
            <div class="col-xs-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <table class="table">
                            <thead>
                            <tr>
                                <th colspan="10">{{ 'pdf.damage_table_header.9_excel_title' | trans({'%name%': object.name | upper}) }} {{ year }}</th>
                            </tr>
                            <tr>
                                <th rowspan="2">WTG</th>
                                <th rowspan="2">{{ 'pdf.damage_table_header.10_blade' | trans }}</th>
                                <th colspan="2">{{ 'pdf.damage_table_header.1_damage' | trans }}</th>
                                <th colspan="3">{{ 'pdf.damage_table_header.2_position' | trans }}</th>
                                <th rowspan="2">{{ 'pdf.damage_table_header.6_size' | trans }}</th>
                                <th rowspan="2">{{ 'pdf.damage_table_header.7_description' | trans }}</th>
                                <th rowspan="2">CAT</th>
                            </tr>
                            <tr>
                                <th>{{ 'pdf.damage_table_header.3_number' | trans }}</th>
                                <th>{{ 'pdf.damage_table_header.4_code' | trans }}</th>
                                <th>Pos.</th>
                                <th>{{ 'pdf.damage_table_header.5_radius' | trans }}</th>
                                <th>{{ 'pdf.damage_table_header.8_distance' | trans }}</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>adeu</td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <tr>
                                <th>foot</th>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endif %}
{% endblock %}
